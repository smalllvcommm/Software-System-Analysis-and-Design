# 个人信息管理系统设计报告（第1部分）
## 系统愿景与需求分析

---

## 1. 系统愿景

### 1.1 项目定位
**个人信息管理系统（Personal Information Management System）** 是一个基于Spring Boot + React的全栈Web应用，旨在为个人用户提供统一的信息管理平台，支持文章、日记、待办事项、备忘录、多媒体资源、财务支出、旅行计划等多种信息类型的管理。

### 1.2 问题说明
| 问题 | 个人信息分散在不同平台，缺乏统一管理 |
|------|------|
| **影响** | 个人用户、知识工作者、学生 |
| **后果** | 信息检索困难、管理效率低下、数据安全无保障 |
| **成功解决方案** | 提供统一平台、支持多种信息类型、智能分类和标签系统 |

### 1.3 产品定位说明
- **目标用户**：需要管理个人信息的知识工作者、学生、自由职业者
- **产品类别**：个人信息管理系统（PIM）
- **核心价值**：统一管理、智能分类、安全可靠、易于扩展
- **竞争优势**：前后端分离架构、RESTful API、配置化UI设计、支持多种信息类型

### 1.4 业务流程

#### 核心业务场景
1. **用户注册与登录**：用户创建账户，通过JWT认证访问系统
2. **信息创建与管理**：用户创建、编辑、删除各类信息
3. **分类与标签**：使用统一的分类和标签系统组织信息
4. **信息检索**：通过分类、标签、关键词快速查找信息
5. **数据统计**：查看各类信息的统计数据

### 1.5 项目特色
- **统一的分类系统**：所有信息共享同一套分类体系
- **公共标签系统**：跨类型信息关联和检索
- **配置化前端**：通过配置快速扩展新实体
- **RESTful API**：标准化接口设计
- **响应式设计**：支持桌面和移动设备

---

## 2. 需求分析

### 2.1 功能需求 - 用例模型

#### 2.1.1 参与者（Actor）
1. **访客（Guest）**：未登录用户
2. **注册用户（User）**：已登录的普通用户
3. **管理员（Admin）**：系统管理员（本系统中User和Admin合一）

#### 2.1.2 用例图

```
┌─────────────────────────────────────────────────────────┐
│              个人信息管理系统用例图                        │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  访客                                                    │
│   │                                                     │
│   ├──► 浏览首页                                         │
│   ├──► 用户注册                                         │
│   └──► 用户登录                                         │
│                                                         │
│  注册用户                                                │
│   │                                                     │
│   ├──► 管理文章                                         │
│   │     ├── 创建文章                                     │
│   │     ├── 编辑文章                                     │
│   │     ├── 删除文章                                     │
│   │     ├── 查看文章列表                                 │
│   │     └── 查看文章详情                                 │
│   │                                                     │
│   ├──► 管理日记                                         │
│   │     ├── 创建日记                                     │
│   │     ├── 编辑日记                                     │
│   │     ├── 删除日记                                     │
│   │     └── 查看日记列表                                 │
│   │                                                     │
│   ├──► 管理待办事项                                     │
│   │     ├── 创建待办                                     │
│   │     ├── 更新状态                                     │
│   │     ├── 删除待办                                     │
│   │     └── 查看待办列表                                 │
│   │                                                     │
│   ├──► 管理分类                                         │
│   │     ├── 创建分类                                     │
│   │     ├── 编辑分类                                     │
│   │     └── 删除分类                                     │
│   │                                                     │
│   ├──► 管理标签                                         │
│   │     ├── 创建标签                                     │
│   │     ├── 编辑标签                                     │
│   │     └── 删除标签                                     │
│   │                                                     │
│   ├──► 管理备忘录                                       │
│   ├──► 管理音频                                         │
│   ├──► 管理视频                                         │
│   ├──► 管理网站收藏                                     │
│   ├──► 管理支出记录                                     │
│   ├──► 管理旅行计划                                     │
│   ├──► 管理学习打卡                                     │
│   │                                                     │
│   ├──► 查看个人资料                                     │
│   ├──► 修改个人信息                                     │
│   ├──► 修改密码                                         │
│   ├──► 查看统计面板                                     │
│   └──► 退出登录                                         │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 2.2 核心用例详细描述

#### 用例1: 用户注册

| 项目 | 内容 |
|------|------|
| **用例名称** | 用户注册 |
| **参与者** | 访客 |
| **前置条件** | 用户未登录 |
| **后置条件** | 用户账户创建成功，自动登录并跳转到工作空间 |

**基本流**：
1. 访客点击导航栏的"注册"链接
2. 系统显示注册表单
3. 访客输入用户名、密码、确认密码、邮箱（可选）
4. 访客点击"注册"按钮
5. 系统验证输入（用户名唯一性、密码长度≥6、两次密码一致）
6. 系统创建用户记录，默认角色为USER
7. 系统生成JWT令牌
8. 系统返回成功响应，包含token、username、role
9. 前端保存token到localStorage
10. 系统自动跳转到工作空间页面

**备选流**：
- 3a. 用户名已存在：系统提示"用户名已被占用"
- 3b. 密码长度不足：系统提示"密码长度至少为6位"
- 3c. 两次密码不一致：系统提示"两次输入的密码不一致"

---

#### 用例2: 用户登录

| 项目 | 内容 |
|------|------|
| **用例名称** | 用户登录 |
| **参与者** | 访客 |
| **前置条件** | 用户已注册 |
| **后置条件** | 用户成功登录，获得系统访问权限 |

**基本流**：
1. 访客点击导航栏的"登录"链接
2. 系统显示登录表单
3. 访客输入用户名和密码
4. 访客点击"登录"按钮
5. 系统验证用户名和密码
6. 系统查询用户信息
7. 系统生成JWT令牌
8. 系统返回成功响应（token、username、role）
9. 前端保存认证信息到localStorage
10. 系统根据用户角色跳转到相应页面（工作空间或管理后台）

**备选流**：
- 5a. 用户名不存在：系统提示"用户名或密码错误"
- 5b. 密码错误：系统提示"用户名或密码错误"

---

#### 用例3: 创建文章

| 项目 | 内容 |
|------|------|
| **用例名称** | 创建文章 |
| **参与者** | 注册用户 |
| **前置条件** | 用户已登录 |
| **后置条件** | 新文章保存到数据库 |

**基本流**：
1. 用户进入管理后台
2. 用户点击"文章管理"
3. 系统显示文章列表
4. 用户点击"新建"按钮
5. 系统显示文章编辑器（CKEditor5）
6. 用户输入标题、内容、摘要
7. 用户选择分类（从下拉列表）
8. 用户选择标签（支持多选）
9. 用户设置发布状态（草稿/已发布）
10. 用户点击"保存"按钮
11. 系统验证必填字段（标题、内容）
12. 系统保存文章到数据库
13. 系统返回成功消息
14. 系统刷新文章列表

**备选流**：
- 11a. 标题为空：系统提示"标题不能为空"
- 11b. 内容为空：系统提示"内容不能为空"
- 12a. 保存失败：系统提示"保存失败，请重试"

**扩展点**：
- 在步骤7前，用户可以创建新分类
- 在步骤8前，用户可以创建新标签

---

#### 用例4: 管理待办事项

| 项目 | 内容 |
|------|------|
| **用例名称** | 管理待办事项 |
| **参与者** | 注册用户 |
| **前置条件** | 用户已登录 |
| **后置条件** | 待办事项状态更新 |

**基本流**：
1. 用户从导航栏点击"待办事项"
2. 系统显示待办事项列表
3. 用户查看待办事项（按状态分组：未开始、进行中、已完成）
4. 用户点击某个待办事项的状态按钮
5. 系统弹出状态选择菜单
6. 用户选择新状态
7. 系统更新待办事项状态
8. 系统保存到数据库
9. 系统刷新列表

**备选流**：
- 4a. 用户点击"新建"：进入创建待办流程
- 4b. 用户点击"编辑"：进入编辑待办流程
- 4c. 用户点击"删除"：系统确认后删除待办

---

#### 用例5: 分类与标签管理

| 项目 | 内容 |
|------|------|
| **用例名称** | 分类与标签管理 |
| **参与者** | 注册用户 |
| **前置条件** | 用户已登录 |
| **后置条件** | 分类或标签创建/更新成功 |

**基本流**：
1. 用户进入管理后台
2. 用户点击"分类管理"或"标签管理"
3. 系统显示分类/标签列表
4. 用户点击"新建"按钮
5. 系统显示创建表单
6. 用户输入名称、描述
7. 用户点击"保存"
8. 系统验证名称唯一性
9. 系统保存到数据库
10. 系统刷新列表

**备选流**：
- 8a. 名称已存在：系统提示"该名称已存在"
- 8b. 名称为空：系统提示"名称不能为空"

---

### 2.3 非功能需求

#### 2.3.1 性能需求
- **响应时间**：API响应时间 < 500ms
- **并发支持**：支持至少100个并发用户
- **数据加载**：列表页面采用分页加载，每页20条

#### 2.3.2 安全需求
- **身份认证**：基于JWT的无状态认证
- **密码加密**：使用BCrypt加密存储
- **CORS配置**：限制允许的源地址
- **SQL注入防护**：使用JPA参数化查询

#### 2.3.3 可用性需求
- **响应式设计**：支持桌面（1920x1080）和移动设备（375x667）
- **用户界面**：现代化UI，操作直观
- **错误提示**：友好的错误消息和操作反馈

#### 2.3.4 可维护性需求
- **代码规范**：遵循Java和TypeScript编码规范
- **模块化设计**：前后端分离，高内聚低耦合
- **配置化**：前端采用配置驱动的列表和表单

#### 2.3.5 兼容性需求
- **浏览器**：Chrome 90+、Firefox 88+、Edge 90+
- **数据库**：MySQL 8.0+
- **Java版本**：JDK 21+
- **Node.js**：18.x+

---

### 2.4 质量属性

| 质量属性 | 度量标准 | 目标值 |
|---------|---------|--------|
| 可用性 | 系统正常运行时间 | > 99% |
| 可靠性 | 平均故障间隔时间（MTBF） | > 720小时 |
| 性能 | 页面加载时间 | < 2秒 |
| 安全性 | 密码强度 | 至少6位 |
| 可扩展性 | 新增实体类型时间 | < 2小时 |

---

## 3. 涉众分析

### 3.1 涉众概要

| 名称 | 表示 | 角色 |
|------|------|------|
| 最终用户 | 个人用户 | 系统的主要使用者 |
| 开发团队 | 项目开发人员 | 负责系统设计与实现 |
| 项目导师 | 课程教师 | 提供指导和评审 |

### 3.2 用户概要

| 名称 | 说明 | 技术水平 |
|------|------|---------|
| 个人用户 | 需要管理个人信息的知识工作者 | 基本计算机操作能力 |

### 3.3 关键需求

| 需要 | 优先级 | 目前的解决方案 | 提议的解决方案 |
|------|--------|---------------|---------------|
| 统一信息管理 | 关键 | 使用多个独立应用 | 提供一体化平台 |
| 快速信息检索 | 重要 | 手动查找 | 分类、标签、搜索 |
| 数据安全 | 关键 | 无保障 | JWT认证、密码加密 |
| 移动访问 | 有用 | 不支持 | 响应式设计 |

---

**第1部分完成时间**：2025年10月28日

